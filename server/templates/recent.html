<html>
  <head>
    <title>Thread</title>
    {% include 'scripts.html' %}
    {% include 'diff-styles.html' %}
  </head>

  <body>
    {% include 'modules/navbar.html' %}
    <h1>Recent Edits</h1>
    {% for i, page in enumerate(pages) %}
      {% if isinstance(page, UserPage) %}
        {% set diff = page.diffs[-1] %}
        <h2><a href="{{ url_for('page', title=page.title) }}">
          {{ diff.name }}
        </a></h2>
        {% include 'user-page-diff.html' %}
      {% elif isinstance(page, TopicPage) %}
        {% set diff = page.diffs[-1] %}
        <h2><a href="{{ url_for('page', title=page.title) }}">
          {{ diff.name }}
        </a></h2>
        {% include 'topic-page-diff.html' %}
      {% endif %}
      {% if i != len(pages) - 1 %}
        <hr>
      {% endif %}
    {% endfor %}

  </body>
</html>
